.\"  Copyright (C) 2008-2009 Ross Vandegrift.  All rights reserved.
.\"  
.\"  This copyrighted material is made available to anyone wishing to use,
.\"  modify, copy, or redistribute it subject to the terms and conditions
.\"  of the GNU General Public License v.2.

.TH fence_ifmib 8

.SH NAME
fence_ifmib - I/O Fencing agent for IF-MIB capable SNMP devices

.SH SYNOPSIS
.B 
fence_ifmib
[\fIOPTION\fR]...

.SH DESCRIPTION
fence_ifmib is an I/O Fencing agent which can be used with any IF-MIB capable
SNMP device.  It was written with managed ethernet switches in mind, in order
to fence iSCSI SAN connections.  However, there are many devices that support
the IF-MIB interface.  The agent uses IF-MIB::ifAdminStatus to control the
state of an interface.

fence_ifmib accepts options on the command line as well as from stdin.  
Fenced sends parameters through stdin when it execs the agent.  fence_ifmib 
can be run by itself with command line options.  This is useful for testing.

.SH OPTIONS
.TP
\fB-a\fP \fIIPaddress\fR
IP address or hostname of the SNMP agent to be written.
.TP
\fB-h\fP 
Print out a help message describing available options, then exit.
.TP
\fB-c\fP \fIcommunity\fR
The write community string to be used in the request.
.TP
\fB-i\fP \fIiIindex\fR
The ifIndex of the interface to be acted upon.  This will need to be determined
manually prior to configuration.
.TP
\fB-o\fP \fIaction\fR
The action required.  off (default), on, or status.  off sets ifAdminStatus
down, on sets ifAdminStatus up, and status returns the current state.
.TP
\fB-V\fP
Verbose.  Print informational messages to standard out.

.SH STDIN PARAMETERS
.TP
\fIagent = < param >\fR
This option is used by fence_node(8) and is ignored by fence_ifmib.
.TP
\fIipaddr = < hostname | ip >\fR
IP address or hostname of the device.
.TP
\fIcomm = < param >\fR
Write community string to be used in the request.
.TP
\fIifindex = < param >\fR
The ifIndex of the interface to be acted upon.
.TP
\fIoption = < param >\fR
The action required.  off (default), on, or status.
.TP

.SH SEE ALSO
fence(8), fence_node(8)
